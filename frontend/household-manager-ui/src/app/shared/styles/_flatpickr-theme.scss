@use 'variables' as *;

// ==========================================
// FLATPICKR CALENDAR
// ==========================================

.flatpickr-calendar {
  border-radius: $border-radius;
  box-shadow: $shadow-md;
  border: 1px solid $border-color;
  font-family: $font-family-base;

  // ==========================================
  // MONTH NAVIGATION
  // ==========================================

  .flatpickr-months {
    background: $primary-color;
    border-radius: $border-radius $border-radius 0 0;

    .flatpickr-month {
      color: white;
    }

    .flatpickr-prev-month,
    .flatpickr-next-month {
      fill: white;

      &:hover svg {
        fill: rgba(255, 255, 255, 0.8);
      }
    }
  }

  // ==========================================
  // CURRENT MONTH DISPLAY
  // ==========================================

  .flatpickr-current-month {
    .flatpickr-monthDropdown-months {
      background: transparent;
      color: white;
      font-weight: 600;
      border: none;

      &:hover {
        background: rgba(255, 255, 255, 0.1);
      }
    }

    .numInputWrapper {
      input {
        color: white;
        font-weight: 600;
      }

      span {
        border-color: rgba(255, 255, 255, 0.3);

        &:hover {
          background: rgba(255, 255, 255, 0.1);
        }
      }
    }
  }

  // ==========================================
  // WEEKDAY HEADERS
  // ==========================================

  .flatpickr-weekdays {
    background: $bg-light;

    span {
      color: $text-muted;
      font-weight: 600;
    }
  }

  // ==========================================
  // DAY CELLS
  // ==========================================

  .flatpickr-day {
    border-radius: 6px;
    font-weight: 500;
    transition: all 0.2s ease;

    &:hover {
      background: lighten($primary-color, 40%);
      border-color: lighten($primary-color, 40%);
    }

    // Selected date
    &.selected {
      background: $primary-color;
      border-color: $primary-color;
      font-weight: 600;
      
      &:hover {
        background: darken($primary-color, 5%);
        border-color: darken($primary-color, 5%);
      }
    }

    // Today's date
    &.today {
      border-color: $primary-color;
      color: $primary-color;
      font-weight: 600;

      &:hover {
        background: lighten($primary-color, 40%);
        color: $primary-color;
      }
    }

    // Disabled dates
    &.disabled {
      color: lighten($text-muted, 20%);
      cursor: not-allowed;

      &:hover {
        background: transparent;
        border-color: transparent;
      }
    }
  }

  // ==========================================
  // TIME PICKER
  // ==========================================

  .flatpickr-time {
    border-top: 1px solid $border-color;

    input {
      font-weight: 600;
      color: $text-primary;
      font-size: 1rem;

      &:hover {
        background: $bg-light;
      }

      &:focus {
        background: lighten($primary-color, 45%);
        border-color: $primary-color;
      }
    }

    .flatpickr-time-separator {
      font-weight: 600;
      color: $text-muted;
    }
  }
}

// ==========================================
// FLATPICKR INPUT FIELD
// ==========================================

input[readonly].flatpickr-input {
  background-color: #ffffff;
  cursor: pointer;
  
  &:focus {
    background-color: #ffffff;
    border-color: $primary-color;
    box-shadow: 0 0 0 0.2rem rgba($primary-color, 0.15);
  }

  &:hover {
    border-color: $primary-color;
  }
}